# n7tya-lang - AI Agent コラボレーション用ドキュメント

## プロジェクト概要
**n7tya-lang（なちゃ言語）** - プログラミングの歴史を塗り替える革新的言語

> 「人間の思考を妨げない自由」と「コンピュータに妥協しない厳格さ」の完全な調和

**メインターゲット**: フルスタックWebアプリ
**キャッチコピー**: 「フルスタックWebアプリを1言語で」

## コア思想（13の柱）
1. **統括思想**: エンジニアを「選ばせない」- 書きやすさと速度の両立
2. **構文思想**: 思考のショートカット - ノイズの排除、JSXネイティブ統合
3. **型思想**: 透明な防弾チョッキ - 漸進的かつ絶対的、構造的部分型
4. **実行思想**: ハードウェアへの敬意 - GC排除、Wasmファースト
5. **エコシステム思想**: 過去を否定せず未来を創る - Python共生
6. **パッケージ管理思想**: 依存地獄からの解放 - n7tya.toml + n7tya.lock
7. **DX思想**: すぐ始められる - ゼロコンフィグ、ホットリロード、LSP
8. **エラー思想**: 敵ではなく味方 - miette式、コンパイル時検出
9. **AI-Human協調思想**: Vibe-codingの時代へ - AIも人間も読み書きしやすい
10. **並行処理思想**: 非同期をネイティブに - async/await、ストリーミング
11. **セキュリティ思想**: デフォルトで安全 - Deno式パーミッション
12. **テスト思想**: テストは当たり前 - 言語組み込み、ゼロ設定
13. **デプロイ思想**: どこでも動く - シングルバイナリ、マルチターゲット

## 参考言語
- **flux** (https://github.com/cmc-labo/flux) - Rust製、pyo3、Python連携
- **Cargo/uv** - TOML設定、ロックファイル

## 現在のステータス
- **フェーズ**: 実装中（Lexer完了）
- **最終更新**: 2026-01-14 20:03

## 次に行うべきこと
1. ~~言語思想の決定~~ 完了
2. ~~詳細仕様の設計~~ 完了
3. 実装
   - ~~Lexer（字句解析器）~~ 完了
   - [ ] Parser（構文解析器）
   - [ ] AST（抽象構文木）
   - [ ] 型チェッカー
   - [ ] コード生成

## 決定事項
### メインターゲット
- **フルスタックWebアプリ**
- 理由: Python資産 + JSX + GCなし + Wasmが全て活きる

### 言語仕様
- **ファイル拡張子**: `.n7t`（JSX含む全てのコード）
- **構文**: インデントベース、`;{}()`を排除
- **型システム**: 漸進的型付け + Rustレベルの厳格さ（コンパイル時）
- **メモリ管理**: 自動所有権推論（GCなし）
  - ユーザーは何も書かない（Python同様の体験）
  - コンパイラが所有権を完全に自動推論
  - 推論不能な場合はコンパイルエラー（コードの書き換えを促す）
  - Pythonオブジェクトのみ参照カウントで管理
- **実行方式**: コンパイラ、Wasmファースト
- **Python連携**: pyo3、import一行で利用可能
- **設定**: n7tya.toml + n7tya.lock で一元管理
- **UI**: JSXをネイティブ統合（一級市民）
- **エラー**: miette式詳細表示
- **DX**: ゼロコンフィグ、ホットリロード、LSP標準搭載

## 未決定事項
- 標準ライブラリの範囲
- CLI名（n7tya? nacha?）

## ドキュメント構成
- `/doc/philosophy.md` - 言語思想（完了）
- `/doc/adoption.md` - 採用分析（完了）
- `/doc/specification.md` - 言語仕様（次のステップ）

## コンテキスト・メモ
- AIエージェント: 応答の最初に読み込み、最後に更新
- 参考: flux言語の実装
